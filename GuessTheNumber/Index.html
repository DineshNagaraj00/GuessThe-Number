<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="layout">
        <div class="panel-top" id="ptop">
            <div class="score">
                <h2>hit</h2>
                <p id="hitNum">9</p>
            </div>
            <div class="score">
                <h2>timer</h2>
                <p id="timerInterval">60</p>
            </div>
            <div class="score">
                <h2>score</h2>
                <p id="scoreValue">0</p>
            </div>
        </div>
        <div class="panel-bottom" id="pbtm">
            <div class="bubble">
                5
            </div>
        </div>
    </div>
    
</body>
</html>

<script>
    var timer = 60;
var score = 0;
var hitrn;

function increaseScore() {
    score += 10;    
    document.querySelector("#scoreValue").textContent = score;
}

function getNewHit() {
    hitrn = Math.floor(Math.random() * 10);// suffles the number by using math
    document.querySelector("#hitNum").textContent = hitrn;
}
function makeBubble(){
    var clutter="";
    for ( var i=1;i <=200; i++){
        var rn = Math.floor(Math.random() * 10)
        clutter +=`<div class="bubble">${rn}</div>`;
    }
    document.querySelector("#pbtm").innerHTML = clutter;
}

function runTimer() {
    var timerInt = setInterval(function () {
        if (timer > 0) {
            timer--;
            document.querySelector("#timerInterval").textContent = timer;
        }
        else {
            clearInterval(timerInt);
            document.querySelector("#pbtm").innerHTML = `<h1>Game Over <br>
            Your Score is = ${score}</h1>`;
        }
    }, 1000);
}


document.querySelector("#pbtm") 
    .addEventListener("click", function(d){
       var clickednum = Number(d.target.textContent);
       if(clickednum == hitrn) {
        increaseScore();
        makeBubble();
        getNewHit();
       }
    });

runTimer();
makeBubble();
getNewHit();



</script>